(self.webpackChunkspirit_ping_frontend=self.webpackChunkspirit_ping_frontend||[]).push([[884],{9884:(t,i,e)=>{"use strict";e.r(i),e.d(i,{ChatModule:()=>u});var n=e(1116),s=e(8699),o=e(8619),a=e(516);const r=["chatContainer"];function c(t,i){if(1&t&&(o.TgZ(0,"li"),o.TgZ(1,"article"),o.TgZ(2,"div",22),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.TgZ(5,"p",23),o._uU(6),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t){const t=i.$implicit,e=o.oxw();o.xp6(1),o.Gre("message ",e.nickname==t.user?"is-link":"is-dark"," is-small mb-2"),o.xp6(2),o.Gre("user-tag tag ",e.nickname==t.user?"is-link":"is-dark"," mb-1"),o.xp6(1),o.Oqu(t.user),o.xp6(2),o.Oqu(t.text)}}function g(t,i){if(1&t&&(o.TgZ(0,"div"),o._uU(1),o.qZA()),2&t){const t=i.$implicit;o.xp6(1),o.hij(" ",t," ")}}const l=[{path:"",component:(()=>{class t{constructor(t){this.chatS=t,this.users=[],this.messages=[],this.nickname=localStorage.getItem("nickname")}ngOnInit(){this.chatS.receiveMessage(t=>{this.messages.push(t),setTimeout(()=>{let t=this.chatContainerRef.nativeElement;t.scrollTo(0,t.scrollHeight)},10)}),this.chatS.receiveUserList(t=>{this.users=t.users})}onSubmit(t){t.preventDefault();const i=t.target[0];""!=i.value.split(" ").join("")&&(this.chatS.sendMessage(i.value),i.value="")}}return t.\u0275fac=function(i){return new(i||t)(o.Y36(a.a))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-chat"]],viewQuery:function(t,i){if(1&t&&o.Gf(r,5),2&t){let t;o.iGM(t=o.CRH())&&(i.chatContainerRef=t.first)}},decls:29,vars:2,consts:[[1,"hero","is-dark","is-fullheight"],[1,"hero-body"],[1,"container"],[1,"tile","is-ancestor"],[1,"tile","is-vertical","is-9"],[1,"tile"],[1,"tile","is-parent"],[1,"tile","is-child","notification","is-light","is-large","chat-notification"],[1,"chat-container"],["chatContainer",""],[1,"messages-container","block"],[4,"ngFor","ngForOf"],[1,"tile","is-child","notification","is-light"],[1,"content"],[3,"submit"],[1,"field","has-addons"],[1,"control","is-expanded"],["type","text","autocomplete","off",1,"input"],[1,"control"],[1,"button","is-light"],[1,"tile","is-child","notification","is-info"],[1,"title"],[1,"message-body","is-narrow"],[1,"message-text"]],template:function(t,i){1&t&&(o.TgZ(0,"section",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"div",3),o.TgZ(4,"div",4),o.TgZ(5,"div",5),o.TgZ(6,"div",6),o.TgZ(7,"article",7),o.TgZ(8,"div",8,9),o.TgZ(10,"ul",10),o.YNc(11,c,7,8,"li",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(12,"div",6),o.TgZ(13,"article",12),o.TgZ(14,"div",13),o.TgZ(15,"form",14),o.NdJ("submit",function(t){return i.onSubmit(t)}),o.TgZ(16,"div",15),o.TgZ(17,"div",16),o._UZ(18,"input",17),o.qZA(),o.TgZ(19,"div",18),o.TgZ(20,"button",19),o._uU(21," Enviar "),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(22,"div",6),o.TgZ(23,"article",20),o.TgZ(24,"div",13),o.TgZ(25,"p",21),o._uU(26,"Usuarios conectados"),o.qZA(),o.TgZ(27,"div",13),o.YNc(28,g,2,1,"div",11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(11),o.Q6J("ngForOf",i.messages),o.xp6(17),o.Q6J("ngForOf",i.users))},directives:[n.sg],styles:[".chat-container[_ngcontent-%COMP%]{height:60vh;overflow-y:auto}.message-body[_ngcontent-%COMP%]{padding-top:0;padding-left:0}.message-text[_ngcontent-%COMP%]{padding-left:1.25rem;word-break:break-word}.user-tag[_ngcontent-%COMP%]{border-radius:0 4px 4px 0}.chat-notification[_ngcontent-%COMP%]{padding-right:1.25rem}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[s.Bz.forChild(l)],s.Bz]}),t})(),u=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=o.oAB({type:t}),t.\u0275inj=o.cJS({imports:[[n.ez,Z]]}),t})()}}]);